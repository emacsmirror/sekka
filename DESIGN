
          Sekka DESIGN MEMO

Sekkaはモードレスなローマ字かな漢字変換エンジンです。
SKKにインスパイアされています。

1. 特徴

  1) Emacsの上で動き、次のようなインタフェースを持ちます。
     日本語変換モードというものはありません。
     いつでも[Ctrl-J]キーで、カーソルキーの直前のローマ字が変換可能です。
     Nihongo[Ctrl-J] で 日本語に変換されます。

  2) SKKの大文字小文字指定ルールが適用されます。
     OkonaU => 行う            に変換される。
     okonau => おこなう        に変換される。
     Kanji  => 漢字,感じ   などに変換される。

  3) ローマ字のタイプミスはあいまい検索により、適度に救済されます。
     (Jaro-Winkler文字列類似度による検索)


2. 辞書ファイルの構造 (Keyがアルファベット順にソートされるKVSを使う)

  1) アルファベット用検索DB

           <key部>    <value部>

ルール    [a-zA-Z-]+    Eで始まる。ENDを表す
例         change       Echange

ルール    [a-zA-Z-]+    Cで始まる。CONTINUE(継続)を表す
例         henkan       Cへんかん
例         hennkan      Cへんかん
例         henkann      Cへんかん
例         hennkann     Cへんかん

ルール    [あ-ん]+      Eで始まる。ENDを表す
例         へんかん     Echange

  2) 変換用DB
           <key部>    <value部>

ルール      任意     変換候補リスト   a/b/c/d/eのように '/'で候補を区切る
例         change        チェンジ    ;;英語                      => 日本語
例         へんかん      変換/返還   ;;ひらがな                  => 漢字
例         へんかんs     返還/返還   ;;ひらがな+送り仮名開始文字 => 送りあり漢字

  3) その他
   - SKKの辞書をSekkaの辞書に変換するツールで上記データ(プレインテキスト)を作る。
   - Sekkaの辞書をロード時に上記２つのDBへの登録を行う
   - 変換用DBの構築時に辞書中に重複する key が出現した場合は、value部に変換候補を足し込む。


[EOF]
